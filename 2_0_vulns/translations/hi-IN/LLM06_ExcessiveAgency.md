## LLM06: 2025 अत्यधिक एजेंसी

### विवरण

एक LLM -आधारित प्रणाली को अक्सर अपने डेवलपर द्वारा एजेंसी की एक डिग्री प्रदान की जाती हैं - एक्सटेंशन के माध्यम से अन्य प्रणालियों के साथ फ़ंक्शन या इंटरफ़ेस को कॉल करने की क्षमता (कभी -कभी अलग -अलग विक्रेताओं द्वारा उपकरण, कौशल या प्लगइन्स के रूप में संदर्भित) एक prompts के जवाब में कार्रवाई करने के लिए। । इनपुट Prompt या LLM आउटपुट के आधार पर गतिशील रूप से निर्धारित करने के लिए किस एक्सटेंशन को आमंत्रित करने का निर्णय भी एक LLM 'एजेंट' को दिया जा सकता हैं। एजेंट-आधारित सिस्टम आम तौर पर पिछले इनवोकेशन से ग्राउंड और डायरेक्ट बाद के इनवोकेशन तक आउटपुट का उपयोग करके LLM को बार-बार कॉल करेंगे।

अत्यधिक एजेंसी एक Vulnerability हैं जो एक LLM से अप्रत्याशित, अस्पष्ट या हेरफेर किए गए आउटपुट के जवाब में किए जाने वाले कार्यों को हानिकारक कार्यों में सक्षम बनाती हैं, चाहे LLM को खराबी के लिए क्या हो रहा हैं। सामान्य ट्रिगर में शामिल हैंं:
* खराब-इंजीनियर सौम्य prompts के कारण मतिभ्रम/कन्फैब्यूलेशन, या सिर्फ एक खराब प्रदर्शन करने वाला मॉडल;
* एक दुर्भावनापूर्ण user से प्रत्यक्ष/अप्रत्यक्ष Prompt इंजेक्शन, एक दुर्भावनापूर्ण/compromise किए गए एक्सटेंशन का पहले का आह्वान, या (मल्टी-एजेंट/सहयोगी प्रणालियों में) एक दुर्भावनापूर्ण/compromise किया गया सहकर्मी एजेंट।

अत्यधिक एजेंसी का मूल कारण आम तौर पर एक या अधिक होता हैं:
* अत्यधिक कार्यक्षमता;
* अत्यधिक अनुमतियाँ;
* अत्यधिक स्वायत्तता।

अत्यधिक एजेंसी गोपनीयता, अखंडता और उपलब्धता स्पेक्ट्रम में प्रभावों की एक विस्तृत श्रृंखला का नेतृत्व कर सकती हैं, और इस बात पर निर्भर हैं कि कौन से सिस्टम एक LLM-आधारित ऐप के साथ बातचीत करने में सक्षम हैं।

नोट: अत्यधिक एजेंसी असुरक्षित आउटपुट हैंंडलिंग से अलग हैं जो LLM आउटपुट की अपर्याप्त जांच से संबंधित हैं।

### जोखिमों के सामान्य उदाहरण

#### 1.  अत्यधिक कार्यक्षमता
  एक LLM एजेंट के पास एक्सटेंशन तक पहुंच होती हैं जिसमें ऐसे कार्य शामिल होते हैंं जो सिस्टम के इच्छित संचालन के लिए आवश्यक नहीं होते हैंं। उदाहरण के लिए, एक डेवलपर को एक LLM एजेंट को एक repository से दस्तावेजों को पढ़ने की क्षमता प्रदान करने की आवश्यकता होती हैं, लेकिन 3-पार्टी एक्सटेंशन जो वे उपयोग करने के लिए चुनते हैंं, उनमें दस्तावेजों को संशोधित करने और हटाने की क्षमता भी शामिल हैं।
#### 2.  अत्यधिक कार्यक्षमता
  एक विस्तार को एक विकास चरण के दौरान परीक्षण किया जा सकता हैं और एक बेहतर विकल्प के पक्ष में गिरा दिया गया हैं, लेकिन मूल प्लगइन LLM एजेंट के लिए उपलब्ध हैं।
#### 3.  अत्यधिक कार्यक्षमता
  ओपन-एंडेड कार्यक्षमता के साथ एक LLM प्लगइन एप्लिकेशन के इच्छित संचालन के लिए आवश्यक हैं कि बाहर के आदेशों के लिए इनपुट निर्देशों को ठीक से फ़िल्टर करने में विफल रहता हैं। उदाहरण के लिए, एक विशिष्ट शेल कमांड चलाने के लिए एक एक्सटेंशन अन्य शेल कमांड को निष्पादित होने से ठीक से रोकने में विफल रहता हैं।
#### 4.  अत्यधिक अनुमतियाँ
  एक LLM एक्सटेंशन में डाउनस्ट्रीम सिस्टम पर अनुमति हैं जो एप्लिकेशन के इच्छित संचालन के लिए आवश्यक नहीं हैं। उदाहरण के लिए, डेटा पढ़ने के लिए एक एक्सटेंशन एक पहचान का उपयोग करके डेटाबेस सर्वर से कनेक्ट करता हैं, जिसमें न केवल चयन अनुमतियाँ हैंं, बल्कि अनुमतियों को अपडेट, सम्मिलित और हटा दें।
#### 5.  अत्यधिक अनुमतियाँ
  एक LLM एक्सटेंशन जो एक व्यक्तिगत user के संदर्भ में संचालन करने के लिए डिज़ाइन किया गया हैं, एक सामान्य उच्च-विशेषाधिकार प्राप्त पहचान के साथ डाउनस्ट्रीम सिस्टम का उपयोग करता हैं। उदाहरण के लिए, वर्तमान user के दस्तावेज़ स्टोर को पढ़ने के लिए एक एक्सटेंशन एक विशेषाधिकार प्राप्त खाते के साथ दस्तावेज़ repository से जुड़ता हैं, जिसमें सभी userओं से संबंधित फ़ाइलों तक पहुंच हैं।
#### 6.  अत्यधिक स्वायत्तता
  एक LLM-आधारित एप्लिकेशन या एक्सटेंशन स्वतंत्र रूप से उच्च-प्रभाव कार्यों को सत्यापित करने और अनुमोदन करने में विफल रहता हैं। जैसे, एक एक्सटेंशन जो user के दस्तावेजों को हटाए जाने की अनुमति देता हैं, user से किसी भी पुष्टि के बिना विलोपन करता हैं।

### रोकथाम एवं बचाव के लिये रणनीतियाँ

निम्नलिखित क्रियाएं अत्यधिक एजेंसी को रोक सकती हैंं:

#### 1.  एक्सटेंशन को कम से कम करें
  उन एक्सटेंशन को सीमित करें जो LLM एजैंट्स को केवल न्यूनतम आवश्यक पर कॉल करने की अनुमति हैं। उदाहरण के लिए, यदि LLM-आधारित प्रणाली को URL की सामग्री को लाने की क्षमता की आवश्यकता नहीं होती हैं, तो इस तरह के एक्सटेंशन को LLM एजेंट को पेश नहीं किया जाना चाहिए।
#### 2.  एक्सटेंशन कार्यक्षमता को कम करें
  LLM एक्सटेंशन में लागू किए गए कार्यों को न्यूनतम आवश्यक तक सीमित करें। उदाहरण के लिए, एक एक्सटेंशन जो ईमेल को सारांशित करने के लिए user के मेलबॉक्स तक पहुंचता हैं, केवल ईमेल पढ़ने की क्षमता की आवश्यकता हो सकती हैं, इसलिए एक्सटेंशन में अन्य कार्यक्षमता नहीं होनी चाहिए जैसे कि संदेश हटाना या भेजना।
#### 3.  ओपन-एंडेड एक्सटेंशन से बचें
  जहां संभव हो, ओपन-एंडेड एक्सटेंशन के उपयोग से बचें (जैसे, एक शेल कमांड चलाएं, एक URL, आदि प्राप्त करें) और अधिक दानेदार कार्यक्षमता के साथ एक्सटेंशन का उपयोग करें। उदाहरण के लिए, एक LLM-आधारित ऐप को फ़ाइल में कुछ आउटपुट लिखने की आवश्यकता हो सकती हैं। यदि यह एक शेल फ़ंक्शन को चलाने के लिए एक एक्सटेंशन का उपयोग करके लागू किया गया था, तो अवांछनीय कार्यों के लिए गुंजाइश बहुत बड़ी हैं (किसी भी अन्य शेल कमांड को निष्पादित किया जा सकता हैं)। एक अधिक सुरक्षित विकल्प एक विशिष्ट फ़ाइल-लेखन एक्सटेंशन का निर्माण करना होगा जो केवल उस विशिष्ट कार्यक्षमता को लागू करता हैं।
#### 4.  एक्सटेंशन अनुमतियों को कम करें
  अनुमतियों को सीमित करें कि अवांछनीय कार्यों के दायरे को सीमित करने के लिए LLM एक्सटेंशन अन्य प्रणालियों को न्यूनतम आवश्यक तक प्रदान किए जाते हैंं। उदाहरण के लिए, एक LLM एजेंट जो किसी ग्राहक को खरीद सिफारिशें करने के लिए उत्पाद डेटाबेस का उपयोग करता हैं, उसे केवल 'उत्पादों' की तालिका तक पहुंच की आवश्यकता हो सकती हैं; इसमें अन्य तालिकाओं तक पहुंच नहीं होनी चाहिए, न ही रिकॉर्ड डालने, अपडेट करने या हटाने की क्षमता। यह पहचान के लिए उपयुक्त डेटाबेस अनुमतियों को लागू करके लागू किया जाना चाहिए जो LLM एक्सटेंशन डेटाबेस से कनेक्ट करने के लिए उपयोग करता हैं।
#### 5.  user के संदर्भ में एक्सटेंशन निष्पादित करें
  user की ओर से किए गए कार्यों को सुनिश्चित करने के लिए user प्राधिकरण और सुरक्षा गुंजाइश ट्रैक करें, उस विशिष्ट user के संदर्भ में डाउनस्ट्रीम सिस्टम पर निष्पादित किए जाते हैंं, और आवश्यक न्यूनतम विशेषाधिकारों के साथ। उदाहरण के लिए, एक LLM एक्सटेंशन जो user के कोड रेपो को पढ़ता हैं, को user को OAUTH के माध्यम से प्रमाणित करने की आवश्यकता होनी चाहिए और न्यूनतम गुंजाइश की आवश्यकता होती हैं।
#### 6.  user अनुमोदन की आवश्यकता हैं
  मानव-इन-द-लूप नियंत्रण का उपयोग करके एक मानव को उच्च-प्रभाव कार्रवाई को मंजूरी देने के लिए आवश्यकता होती हैं, इससे पहले कि वे लिए जाते हैंं। यह एक डाउनस्ट्रीम सिस्टम (LLM एप्लिकेशन के दायरे के बाहर) या LLM एक्सटेंशन के भीतर ही लागू किया जा सकता हैं। उदाहरण के लिए, एक LLM-आधारित ऐप जो किसी user की ओर से सोशल मीडिया सामग्री बनाता हैं और पोस्ट करता हैं, उस एक्सटेंशन के भीतर एक user अनुमोदन दिनचर्या को शामिल करना चाहिए जो 'पोस्ट' ऑपरेशन को लागू करता हैं।
#### 7.  पूर्ण मध्यस्थता
  एक कार्रवाई की अनुमति हैं या नहीं, यह तय करने के लिए LLM पर भरोसा करने के बजाय डाउनस्ट्रीम सिस्टम में प्राधिकरण को लागू करें। पूर्ण मध्यस्थता सिद्धांत को लागू करें ताकि एक्सटेंशन के माध्यम से डाउनस्ट्रीम सिस्टम के लिए किए गए सभी अनुरोध सुरक्षा नीतियों के खिलाफ मान्य हों।
#### 8.  LLM इनपुट और आउटपुट को सैनिटाइज़ करें
  सुरक्षित कोडिंग सर्वोत्तम अभ्यास का पालन करें, जैसे कि ASVS (एप्लिकेशन सुरक्षा सत्यापन मानक) में OWASP की सिफारिशों को लागू करना, इनपुट Sanitisation पर विशेष रूप से मजबूत फोकस के साथ। विकास पाइपलाइनों में स्टेटिक एप्लिकेशन सिक्योरिटी टेस्टिंग (SAST) और डायनेमिक एंड इंटरएक्टिव एप्लिकेशन टेस्टिंग (DAST, IAST) का उपयोग करें।

निम्नलिखित विकल्प अत्यधिक एजेंसी को नहीं रोकेंगे, लेकिन नुकसान के स्तर को सीमित कर सकते हैंं:
- LLM एक्सटेंशन और डाउनस्ट्रीम सिस्टम की गतिविधि को लॉग इन करें और यह पहचानने के लिए कि अवांछनीय क्रियाएं कहां हो रही हैंं, और तदनुसार जवाब दें।
- किसी निश्चित समय अवधि के भीतर होने वाली अवांछनीय कार्यों की संख्या को कम करने के लिए दर-सीमित करना लागू करें, महत्वपूर्ण क्षति होने से पहले निगरानी के माध्यम से अवांछनीय कार्यों की खोज करने का अवसर बढ़ाएं।

### उदाहरण स्वरूप हमले के परिदृश्य

एक LLM-आधारित व्यक्तिगत सहायक ऐप को आने वाले ईमेल की सामग्री को संक्षेप में प्रस्तुत करने के लिए एक्सटेंशन के माध्यम से किसी व्यक्ति के मेलबॉक्स तक पहुंच प्रदान की जाती हैं। इस कार्यक्षमता को प्राप्त करने के लिए, एक्सटेंशन को संदेशों को पढ़ने की क्षमता की आवश्यकता होती हैं, हालांकि सिस्टम डेवलपर ने उपयोग करने के लिए जो प्लगइन चुना हैं, उसमें संदेश भेजने के लिए फ़ंक्शन भी शामिल हैंं। इसके अतिरिक्त, ऐप एक अप्रत्यक्ष Prompt इंजेक्शन हमले के लिए असुरक्षित हैं, जिससे एक दुर्भावनापूर्ण रूप से तैयार की गई आने वाली आने वाली ईमेल LLM को ट्रिक करने के लिए एजेंट को कमांड करने के लिए user के इनबॉक्स को सेनेटिटिव जानकारी के लिए स्कैन करने के लिए कमांडिंग करता हैं और इसे हमलावर के ईमेल पते पर अग्रेषित करता हैं। इससे बचा जा सकता हैं:
* एक एक्सटेंशन का उपयोग करके अत्यधिक कार्यक्षमता को समाप्त करना जो केवल मेल-रीडिंग क्षमताओं को लागू करता हैं,
* एक रीड-ओनली स्कोप के साथ एक OAUTH सत्र के माध्यम से user की ईमेल सेवा को प्रमाणित करके अत्यधिक अनुमतियों को समाप्त करना, और/या
* user को मैन्युअल रूप से समीक्षा करने और LLM एक्सटेंशन द्वारा तैयार किए गए प्रत्येक मेल पर 'सेंड' को हिट करने की आवश्यकता के द्वारा अत्यधिक स्वायत्तता को समाप्त करना।

वैकल्पिक रूप से, मेल-सेंडिंग इंटरफ़ेस पर दर सीमित दर को लागू करके नुकसान को कम किया जा सकता हैं।

### संबंधित लिंक

1. [Slack AI data exfil from private channels](https://promptarmor.substack.com/p/slack-ai-data-exfiltration-from-private): **PromptArmor**
2. [Rogue Agents: Stop AI From Misusing Your APIs](https://www.twilio.com/en-us/blog/rogue-ai-agents-secure-your-apis): **Twilio**
3. [Embrace the Red: Confused Deputy Problem](https://embracethered.com/blog/posts/2023/chatgpt-cross-plugin-request-forgery-and-prompt-injection./): **Embrace The Red**
4. [NeMo-Guardrails: Interface guidelines](https://github.com/NVIDIA/NeMo-Guardrails/blob/main/docs/security/guidelines.md): **NVIDIA Github**
6. [Simon Willison: Dual LLM Pattern](https://simonwillison.net/2023/Apr/25/dual-llm-pattern/): **Simon Willison**
7. [Sandboxing Agentic AI Workflows with WebAssembly](https://developer.nvidia.com/blog/sandboxing-agentic-ai-workflows-with-webassembly/) **NVIDIA, Joe Lucas**